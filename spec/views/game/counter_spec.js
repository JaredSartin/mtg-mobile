(function(){describe("MtgHelper.Game.Counter",function(){var e;return e=MtgHelper.Game.Counter,beforeEach(function(){return this.subject=e.build({el:h.el_selector})}),describe(".build",function(){return it("builds the counter",function(){var t;return t=e.build(),expect(t.constructor).toBe(e)})}),describe("#render",function(){return it("renders the counter bar",function(){return this.subject.render(),expect(h.find(".app-counter-container")).toExist(),expect(h.find(".app-counter-container")).toHaveClass("life-full"),expect(h.find(".app-life-counter")).toHaveText(20)}),it("returns itself for rendering",function(){return expect(this.subject.render()).toBe(this.subject)})}),describe("events",function(){return beforeEach(function(){return this.subject.render()}),it("decreases the counter by 5 when told to",function(){return h.click(".app-decrement-five"),expect(h.find(".app-counter-container")).toHaveClass("life-15"),expect(h.find(".app-counter-container")).not.toHaveClass("life-full"),expect(h.find(".app-life-counter")).toHaveText(15)}),it("decreases the counter by 1 when told to",function(){return h.click(".app-decrement-one"),expect(h.find(".app-counter-container")).toHaveClass("life-19"),expect(h.find(".app-counter-container")).not.toHaveClass("life-full"),expect(h.find(".app-life-counter")).toHaveText(19)}),it("increases the counter by 1 when told to",function(){return h.click(".app-decrement-five"),h.click(".app-increment-one"),expect(h.find(".app-counter-container")).toHaveClass("life-16"),expect(h.find(".app-counter-container")).not.toHaveClass("life-full"),expect(h.find(".app-life-counter")).toHaveText(16)}),it("increases the counter by 5 when told to",function(){return h.click(".app-decrement-five"),h.click(".app-decrement-one"),h.click(".app-increment-five"),expect(h.find(".app-counter-container")).toHaveClass("life-19"),expect(h.find(".app-counter-container")).not.toHaveClass("life-full"),expect(h.find(".app-life-counter")).toHaveText(19)}),it("decreases below 0",function(){return h.click(".app-decrement-five"),h.click(".app-decrement-five"),h.click(".app-decrement-five"),h.click(".app-decrement-five"),h.click(".app-decrement-one"),expect(h.find(".app-counter-container")).toHaveClass("life-empty"),expect(h.find(".app-life-counter")).toHaveText(-1)}),it("increases above 20",function(){return h.click(".app-increment-one"),expect(h.find(".app-counter-container")).toHaveClass("life-full"),expect(h.find(".app-life-counter")).toHaveText(21)}),it("prevents the page from changing when handling changes",function(){return expect(this.subject.decrement_five()).toEqual(!1),expect(this.subject.decrement_one()).toEqual(!1),expect(this.subject.increment_one()).toEqual(!1),expect(this.subject.increment_five()).toEqual(!1)})})})}).call(this);